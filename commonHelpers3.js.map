{"version":3,"file":"commonHelpers3.js","sources":["../src/js/api_service.js","../src/js/header.js","../src/js/helpers/addToCart.js","../src/js/pagination.js","../src/js/helpers/validChecked.js","../src/img/subscribing@1x.png","../src/img/subscribing@2x.png","../src/js/helpers/modalMarkups.js","../src/js/helpers/openModal.js","../src/js/products.js","../src/js/filters.js","../src/js/popular.js","../src/js/helpers/getRandomProduct.js","../src/js/dicsount_products.js","../src/js/modal.js","../src/js/footer.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nimport { common } from './common';\nimport { refs } from './refs';\n\n// get a list of all products\nasync function getData(query) {\n  // return object {page, perPage, results[], totalPages}\n\n  try {\n    const response = await axios({\n      url: `${common.BASE_URL}/products`,\n      method: 'GET',\n      header: {\n        'Content-Type': 'aplication/json',\n      },\n\n      params: query,\n    });\n\n    return response.data;\n  } catch (error) {\n    return error;\n  }\n}\n\n// get an object by ID\nasync function getDataId(id) {\n  // returns the card object\n  try {\n    const response = await axios({\n      url: `${common.BASE_URL}/products/${id}`,\n      method: 'GET',\n      header: {\n        'Content-Type': 'aplication/json',\n      },\n    });\n    return response.data;\n  } catch (error) {\n    return error;\n  }\n}\n\n// get a list of popular products\nasync function getPopular(limit) {\n  // returns an array of data\n  try {\n    let query = null;\n\n    if (limit) {\n      query = { limit: limit };\n    }\n    const response = await axios({\n      url: `${common.BASE_URL}/products/popular`,\n      method: 'GET',\n      header: {\n        'Content-Type': 'aplication/json',\n      },\n\n      params: query,\n    });\n    return response.data;\n  } catch (error) {\n    return error;\n  }\n}\n\n// get a list of products with a discount\nasync function getDiscount() {\n  // returns an array of data\n  try {\n    const response = await axios({\n      url: `${common.BASE_URL}/products/discount`,\n      method: 'GET',\n      header: {\n        'Content-Type': 'aplication/json',\n      },\n    });\n    return response.data;\n  } catch (error) {\n    return error;\n  }\n}\n\n// get categories\nasync function getCategories() {\n  // returns an array of data\n  try {\n    const response = await axios({\n      url: `${common.BASE_URL}/products/categories`,\n      method: 'GET',\n      header: {\n        'Content-Type': 'aplication/json',\n      },\n    });\n    return response.data;\n  } catch (error) {\n    return error;\n  }\n}\n\n// request to create a new order\nasync function createOrder(email, productList) {\n  // returns an object\n  try {\n    const response = await axios({\n      url: 'https://food-boutique.b.goit.study/api/orders',\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      data: {\n        email: email,\n        products: productList,\n      },\n    });\n    return response;\n  } catch (error) {\n    return error;\n  }\n}\n\n// request a subscription\nasync function createSubscription(email) {\n  // returns an object\n  try {\n    const response = await axios({\n      url: `${common.BASE_URL}/subscription`,\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      data: {\n        email: email,\n      },\n    });\n    return response.status;\n  } catch (error) {\n    return error.response.status;\n  }\n}\n\nexport {\n  getData,\n  getDataId,\n  getPopular,\n  getDiscount,\n  getCategories,\n  createOrder,\n  createSubscription,\n};\n","import { load } from './storage';\nimport { common } from './common';\n\nconst headerCount = () => {\n  const cartCounter = document.querySelector('#product-count-header');\n  const currValue = load(common.LOCAL_CART_KEY) ?? [];\n  cartCounter.innerHTML = `(${currValue.length})`;\n};\n\nexport { headerCount };\n","import iziToast from 'izitoast';\nimport '../../../node_modules/izitoast/dist/css/iziToast.min.css';\nimport svg_sprite from '../../img/sprite.svg';\nimport { getDataId } from '../api_service';\nimport { save, load } from '../storage';\nimport { common } from '../common';\nimport { headerCount } from '../header';\n\nconst cart = load(common.LOCAL_CART_KEY) ?? [];\n\nconst addToCart = async evt => {\n  const { id } = evt.target.closest('.js-card').dataset;\n\n  const product = await getDataId(id);\n\n  const inStorage = cart.some(({ _id }) => _id === product._id);\n\n  if (inStorage) {\n    return;\n  }\n\n  cart.push(product);\n\n  save(common.LOCAL_CART_KEY, cart);\n\n  evt.target.closest(\n    '.js-cart'\n  ).innerHTML = `<button class=\"card-btn\" type=\"button\">\n                    <svg class=\"card-btn-icon-check\" width=\"18\" height=\"18\">\n                        <use href=\"${svg_sprite}#check\"></use>\n                    </svg>\n                </button>`;\n\n  headerCount();\n  iziToast.success({\n    title: 'OK',\n    message: 'Added to cart!',\n  });\n};\n\nconst addToCartFromPopular = async evt => {\n  const { id } = evt.target.closest('.js-card').dataset;\n\n  const product = await getDataId(id);\n\n  const inStorage = cart.some(({ _id }) => _id === product._id);\n\n  if (inStorage) {\n    return;\n  }\n\n  cart.push(product);\n  save(common.LOCAL_CART_KEY, cart);\n\n  evt.target.closest(\n    '.js-cart'\n  ).innerHTML = `<button class=\"popular-btn-check\" type=\"button\">\n                    <svg class=\"popular-icon-check\" width=\"18\" height=\"18\">\n                      <use href=\"${svg_sprite}#check\"></use>\n                    </svg>\n                </button>`;\n  headerCount();\n  iziToast.success({\n    title: 'OK',\n    message: 'Added to cart!',\n  });\n};\n\nexport { addToCart, addToCartFromPopular };\n","import { getData } from './api_service';\nimport Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.css';\nimport { load, save } from './storage';\nimport { common } from './common';\nimport { refs } from './refs';\nimport { productMarkup } from './markupFunctions';\n\n// Отслеживаю вьюпорт\nlet visPagesPag;\nconst mediaQuery = window.matchMedia('(min-width: 768px)');\n\nconst handleMediaChange = event => {\n  if (event.matches) {\n    visPagesPag = 4;\n    loadPaginationDataOnChangeViewport();\n  } else {\n    visPagesPag = 2;\n    loadPaginationDataOnChangeViewport();\n  }\n};\n\nmediaQuery.addEventListener('change', handleMediaChange);\n\n//Функция создания и управления пагинацией при изменении вьюпорта\nfunction loadPaginationDataOnChangeViewport() {\n\n  const currPage = load(common.PAGES).page;\n  const currPerPage = load(common.PAGES).perPage;\n  const currTotalPage = load(common.PAGES).totalPages;\n\n  const pagination = new Pagination(refs.paginationContainer, {\n    page: currPage,\n    totalItems: currPerPage * currTotalPage,\n    itemsPerPage: currPerPage,\n    visiblePages: visPagesPag,\n    centerAlign: true,\n    firstItemClassName: 'tui-first-child',\n    lastItemClassName: 'tui-last-child',\n  });\n\n  pagination.on('beforeMove', function (eventData) {\n    const pagesData = JSON.parse(localStorage.getItem('pages'));\n    pagesData.page = eventData.page;\n    localStorage.setItem('pages', JSON.stringify(pagesData));\n    const storage_query = JSON.parse(localStorage.getItem('pages'));\n\n    const currentQuery = load(common.LOCAL_QUERY_KEY);\n    currentQuery.page = storage_query.page;\n    save(common.LOCAL_QUERY_KEY, currentQuery);\n    const query = load(common.LOCAL_QUERY_KEY);\n\n    renderProductsOnPagination(query);\n  });\n\n  const data = JSON.parse(localStorage.getItem('pages'));\n  if (data.totalPages <= 1) {\n    refs.paginationContainer.style.display = 'none';\n  } else {\n    refs.paginationContainer.style.display = 'block';\n  }\n}\n\n//Функция создания и управления пагинацией, запускается в renderProducts() и в renderProductsSort().\nexport function loadPaginationData() {\n  const pagination = new Pagination(refs.paginationContainer, {\n    page: common.INIT_QUERY.page,\n    totalItems: load('pages').perPage * load('pages').totalPages,\n    itemsPerPage: load('pages').perPage,\n    visiblePages: visPagesPag,\n    centerAlign: true,\n    firstItemClassName: 'tui-first-child',\n    lastItemClassName: 'tui-last-child',\n  });\n\n  pagination.on('beforeMove', function (eventData) {\n    const pagesData = JSON.parse(localStorage.getItem('pages'));\n    pagesData.page = eventData.page;\n    localStorage.setItem('pages', JSON.stringify(pagesData));\n    const storage_query = JSON.parse(localStorage.getItem('pages'));\n\n    const currentQuery = load(common.LOCAL_QUERY_KEY);\n    currentQuery.page = storage_query.page;\n    save(common.LOCAL_QUERY_KEY, currentQuery);\n    const query = load(common.LOCAL_QUERY_KEY);\n\n    renderProductsOnPagination(query);\n  });\n\n  const data = JSON.parse(localStorage.getItem('pages'));\n  if (data.totalPages <= 1) {\n    refs.paginationContainer.style.display = 'none';\n  } else {\n    refs.paginationContainer.style.display = 'block';\n  }\n}\n\nasync function renderProductsOnPagination(query) {\n  const data = await getData(query);\n\n  if (!data.results.length) {\n    notFoundMarkup(refs.productList);\n    return;\n  }\n\n  refs.productList.innerHTML = productMarkup(data.results);\n}\n\n// В filters.js в функции onCategoryField(), onForm(), onAbcField(), onSearchField() добавлена строка\n// \"currQuery.page = '1';\" для коректного функционирования пагинации при фильтрации.\n// в refs.js добавллен контейнер \"paginationContainer\" для пагинации.\n\nexport { handleMediaChange };\n","import { common } from '../common';\nimport { load } from '../storage';\n\nconst validChecked = products => {\n  const currentCartProducts = load(common.LOCAL_CART_KEY) ?? [];\n\n  const result = products.map(product => {\n    const isInclude = currentCartProducts.some(\n      ({ _id }) => _id === product._id\n    );\n\n    if (isInclude) {\n      product['isChecked'] = true;\n      return product;\n    } else {\n      product['isChecked'] = false;\n      return product;\n    }\n  });\n\n  return result;\n};\n\nexport { validChecked };\n","export default \"__VITE_ASSET__26934707__\"","export default \"__VITE_ASSET__ebb12422__\"","import svg_sprite from '../../img/sprite.svg';\nimport sub1x from '../../img/subscribing@1x.png';\nimport sub2x from '../../img/subscribing@2x.png';\n\nconst success = `\n                  <div class=\"modal\">\n\n                    <div class=\"container\">\n\n                      <div class=\"modal-box-success\">\n\n                        <button class=\"modal-close js-modal-close\" type=\"button\" >\n                          <svg class=\"modal-icon\" width=\"22\" height=\"22\">\n                            <use href=\"${svg_sprite}#close\"></use>\n                          </svg>\n                        </button>\n\n                        <div class=\"modal-text-box\">\n\n                          <p class=\"subscription-thanks\">\n                            Thanks for subscribing for\n                            <span class=\"subscription-accent\">new</span> products\n                          </p>\n\n                          <p class=\"subscription-promise\">\n                            We promise you organic and high-quality products that will meet your\n                            expectations. Please stay with us and we promise you many pleasant\n                            surprises.\n                          </p>\n\n                        </div>\n                        <img\n                        class=\"modal-image\"\n                        srcset=\"${sub1x} 1x, ${sub2x} 2x\"\n                        src=\"${sub2x}\"\n                        alt=\"basket of fresh vegetables\"\n                        width=\"490\"\n                        />\n   \n                      </div>\n                     \n\n                    </div>\n\n                  </div>\n`;\n\nconst error = `\n              <div class=\"modal\">\n\n                <div class=\"container\">\n                  <div class=\"modal-box\">\n                    <button class=\"modal-close js-modal-close\" type=\"button\" data-modal-close>\n                      <svg class=\"modal-icon\" width=\"22\" height=\"22\">\n                        <use href=\"${svg_sprite}#close\"></use>\n                      </svg>\n                    </button>\n                    <div class=\"modal-text-box\">\n                      <p class=\"subscription-thanks\">\n                        This <span class=\"subscription-accent\">email address</span> has already been entered\n                      </p>\n                      <p class=\"subscription-promise\">\n                        You have already subscribed to our new products. Watch for offers at the mailing address.\n                      </p>\n                    </div>\n                  </div>\n                </div>\n\n              </div>\n              `;\n\nconst succesOrder = arrey => {\n  const { img, name } = arrey[0];\n\n  return `<div class=\"modal\">\n            <div class=\"container\">\n              <div class=\"order-modal-box\">\n                <button class=\"modal-close js-modal-close\" type=\"button\">\n                  <svg class=\"modal-icon\" width=\"22\" height=\"22\">\n                    <use href=\"${svg_sprite}#close\"></use>\n                  </svg>\n                </button>\n            \n                <img class=\"order-image js-img-order\" src=\"${img}\" alt=\"${name}\" width=\"140\" height=\"140\" />\n                <p class=\"order-title\">Order success</p>\n                <p class=\"order-text\">\n                  Thank you for shopping at Food Boutique. Your order has been received and\n                  is now being freshly prepared just for you! Get ready to indulge in\n                  nourishing goodness, delivered right to your doorstep. We're thrilled to\n                  be part of your journey to better health and happiness.\n                </p>\n              </div>\n            </div>\n          </div>`;\n};\n\nconst modalProductMarkup = ({\n  name,\n  desc,\n  img,\n  category,\n  price,\n  size,\n  is10PercentOff,\n  popularity,\n}) => {\n  return `\n            <div class=\"modal\">\n            <div class=\"container\">\n              <div class=\"modal-box-product\">\n                <button class=\"modal-product-close js-modal-close\" type=\"button\">\n                  <svg class=\"modal-icon\" width=\"22\" height=\"22\">\n                    <use href=\"${svg_sprite}#close\"></use>\n                  </svg>\n                </button>\n\n                <div class=\"modal-product-top\">\n                  <div class=\"modal-product-img-box\">\n                    <img\n                      class=\"modal-product-image\"\n                      src=\"${img}\"\n                      alt=\"${name}\"\n                      width=\"160\"\n                      height=\"160\"\n                      loading=\"lazy\"\n                    />\n                  </div>\n                  <div class=\"modal-product-text-box\">\n                    <p class=\"modal-product-name\">${name}</p>\n                    <ul class=\"modal-product-list\">\n                      <li class=\"modal-produt-item\">Category:\n                        <span class=\"list-variables\">${category}</span>\n                      </li>\n                      <li class=\"modal-produt-item\">Size:\n                        <span class=\"list-variables\">${size}</span>\n                      </li>\n                      <li class=\"modal-produt-item\">Popularity:\n                        <span class=\"list-variables\">${popularity}</span>\n                      </li>\n                    </ul>\n                    <div class=\"scroll\">\n                    <p class=\"modal-product-desc\">\n                      ${desc}\n                    </p>\n                    </div>\n                  </div>\n                </div>\n\n                <div class=\"modal-product-bottom\">\n                  <p class=\"modal-product-price\">$${price}</p>\n\n                  <button class=\"modal-product-addBtn js-to-cart\">\n                    Add to\n                    <svg class=\"modal-product-icon\" width=\"18\" height=\"18\">\n                      <use href=\"${svg_sprite}#cart\"></use>\n                    </svg>\n                  </button>\n\n                  <button class=\"modal-product-removeBtn js-from-cart\">\n                    Remove from\n                    <svg class=\"modal-product-icon\" width=\"18\" height=\"18\">\n                      <use href=\"${svg_sprite}#cart\"></use>\n                    </svg>\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n\n`;\n};\n\nexport { success, error, succesOrder, modalProductMarkup };\n","import * as basicLightbox from 'basiclightbox';\nimport '../../../node_modules/basiclightbox/dist/basicLightbox.min.css';\nimport { getDataId } from '../api_service';\nimport { modalProductMarkup } from './modalMarkups';\nimport { save, load, remove } from '../storage';\nimport { common } from '../common';\nimport { renderProducts } from '../products';\nimport { headerCount } from '../header';\n\nconst openModal = async (evt, element) => {\n  const { id } = evt.target.closest('.js-card').dataset;\n\n  const data = await getDataId(id);\n\n  const markup = modalProductMarkup(data);\n\n  const instance = basicLightbox.create(markup, {\n    onShow: instance => {\n      element.addEventListener('keydown', onProduct);\n\n      instance.element().querySelector('.js-modal-close').onclick = () => {\n        instance.close();\n\n        const storage_query = load(common.LOCAL_QUERY_KEY) ?? [];\n        renderProducts(storage_query);\n      };\n\n      const currentCart = load(common.LOCAL_CART_KEY) ?? [];\n\n      const inStorage = currentCart.some(({ _id }) => _id === id);\n\n      if (inStorage) {\n        instance.element().querySelector('.js-to-cart').style.display = 'none';\n        instance.element().querySelector('.js-from-cart').style.display =\n          'flex';\n      } else {\n        instance.element().querySelector('.js-to-cart').style.display = 'flex';\n        instance.element().querySelector('.js-from-cart').style.display =\n          'none';\n      }\n\n      const toCart = instance.element().querySelector('.js-to-cart');\n      const fromCart = instance.element().querySelector('.js-from-cart');\n\n      toCart.addEventListener('click', () => {\n        const currentCart = load(common.LOCAL_CART_KEY) ?? [];\n\n        const inStorage = currentCart.some(({ _id }) => _id === id);\n\n        if (inStorage) {\n          return;\n        }\n\n        currentCart.push(data);\n        save(common.LOCAL_CART_KEY, currentCart);\n        headerCount();\n        toCart.style.display = 'none';\n        fromCart.style.display = 'flex';\n      });\n\n      fromCart.addEventListener('click', () => {\n        const currentCart = load(common.LOCAL_CART_KEY) ?? [];\n\n        const index = currentCart.findIndex(({ _id }) => _id === id);\n\n        currentCart.splice(index, 1);\n\n        remove(common.LOCAL_CART_KEY);\n\n        save(common.LOCAL_CART_KEY, currentCart);\n        headerCount();\n        fromCart.style.display = 'none';\n        toCart.style.display = 'flex';\n      });\n    },\n\n    onClose: instance => {\n      element.removeEventListener('keydown', onProduct);\n    },\n  });\n\n  function onProduct(event) {\n    if (event.code === 'Escape') {\n      instance.close();\n    }\n  }\n\n  instance.show();\n};\n\nexport { openModal };\n","import { common } from './common';\nimport { refs } from './refs';\nimport { getData } from './api_service';\nimport { save, load } from './storage';\nimport { addToCart } from './helpers/addToCart';\nimport { productMarkup, notFoundMarkup } from './markupFunctions';\nimport { loadPaginationData } from './pagination';\nimport { validChecked } from './helpers/validChecked';\nimport { openModal } from './helpers/openModal';\n\nconst renderProducts = async query => {\n  refs.productList.innerHTML = `<div class=\"loader-box\"><span class=\"loader\"></span></div>`;\n\n  const data = await getData(query);\n\n  if (!data.results.length) {\n    notFoundMarkup(refs.productList);\n    return;\n  }\n\n  save(common.PAGES, {\n    page: data.page,\n    perPage: data.perPage,\n    totalPages: data.totalPages,\n  });\n\n  const result = validChecked(data.results);\n\n  refs.productList.innerHTML = productMarkup(result);\n\n  loadPaginationData();\n};\n\nconst onProductList = evt => {\n  evt.preventDefault();\n\n  if (evt.currentTarget === evt.target) {\n    return;\n  }\n\n  if (evt.target.closest('.js-cart')) {\n    addToCart(evt);\n    return;\n  }\n\n  openModal(evt, refs.productList);\n};\n\nrefs.productList.addEventListener('click', onProductList);\n\nexport { renderProducts };\n","import axios from 'axios';\nimport { common } from './common';\nimport { refs } from './refs';\nimport { productMarkup, notFoundMarkup } from './markupFunctions';\nimport { getCategories } from './api_service';\nimport { save, load } from './storage';\nimport { renderProducts } from './products';\nimport { createCategoryMarkup, createSortMarkup } from './markupFunctions';\nimport SlimSelect from 'slim-select';\nimport '../../node_modules/slim-select/dist/slimselect.css';\n\nimport { loadPaginationData } from './pagination';\n\nnew SlimSelect({\n  select: '#abcField',\n  settings: {\n    showSearch: false,\n  },\n});\n\nlet categories = [];\n\nconst sortArrey = [\n  { value: 'alphabetical', label: 'A to Z' },\n  { value: 'reverse-alphabetical', label: 'Z to A' },\n  { value: 'cheap', label: 'Cheap' },\n  { value: 'expensive', label: 'Expensive' },\n  { value: 'popular', label: 'Popular' },\n  { value: 'not-popular', label: 'Not popular' },\n  { value: '', label: 'Show all' },\n];\n\nconst renderSelects = async () => {\n\n  const data = await getCategories();\n\n  categories = [...data, 'Show_all'];\n\n  const markup = createCategoryMarkup(categories);\n\n  refs.categoryField.insertAdjacentHTML('beforeend', markup);\n\n  refs.abcField.innerHTML = createSortMarkup(sortArrey);\n\n\n  new SlimSelect({\n    select: '#categoryField',\n    settings: {\n      placeholderText: 'Categories',\n      showSearch: false,\n    },\n  });\n};\n\nconst onCategoryField = async evt => {\n  const currentCategory = evt.target.value;\n  const currQuery = load(common.LOCAL_QUERY_KEY);\n  currQuery.page = '1';\n  if (currentCategory === 'Show_all') {\n    currQuery.category = null;\n  } else {\n    currQuery.category = currentCategory;\n  }\n  save(common.LOCAL_QUERY_KEY, currQuery);\n  const query = load(common.LOCAL_SORT);\n  const URL = load(common.LOCAL_QUERY_KEY);\n\n  let sortUrl = buildSortUrl(common.BASE_URL, URL);\n  sortUrl = buildSortByQuery(sortUrl, query);\n\n  const result = await get(sortUrl);\n\n  renderProductsSort(result);\n};\n\nconst onForm = async evt => {\n  evt.preventDefault();\n\n  const currentValue = refs.searchField.value;\n  const currQuery = load(common.LOCAL_QUERY_KEY);\n  currQuery.page = '1';\n  if (!currentValue) {\n    currQuery.keyword = null;\n  } else {\n    currQuery.keyword = currentValue;\n  }\n  save(common.LOCAL_QUERY_KEY, currQuery);\n  const query = load(common.LOCAL_SORT);\n  const URL = load(common.LOCAL_QUERY_KEY);\n\n  let sortUrl = buildSortUrl(common.BASE_URL, URL);\n  sortUrl = buildSortByQuery(sortUrl, query);\n\n  const result = await get(sortUrl);\n\n  renderProductsSort(result);\n};\n//2e1\nconst buildSortUrl = (baseURL, URL) => {\n  let sortUrl = `${baseURL}/products?page=${URL.page}&limit=${URL.limit}`;\n\n  if (URL.keyword) {\n    sortUrl += `&keyword=${URL.keyword}`;\n  }\n\n  if (URL.category && URL.category !== 'all') {\n    sortUrl += `&category=${formatCategory(URL.category)}`;\n  }\n\n  return sortUrl;\n};\n\nconst formatCategory = category => {\n  switch (category) {\n    case 'Meat_&_Seafood':\n      return 'Meat_%26_Seafood';\n    case 'Breads_&_Bakery':\n      return 'Breads_%26_Bakery';\n    default:\n      return category;\n  }\n};\n\nconst buildSortByQuery = (sortUrl, query) => {\n  if (query && query !== 'all') {\n    switch (query) {\n      case 'alphabetical':\n        sortUrl += `&byABC=true`;\n        break;\n      case 'reverse-alphabetical':\n        sortUrl += `&byABC=false`;\n        break;\n      case 'cheap':\n        sortUrl += `&byPrice=true`;\n        break;\n      case 'expensive':\n        sortUrl += `&byPrice=false`;\n        break;\n      case 'popular':\n        sortUrl += `&byPopularity=false`;\n        break;\n      case 'not-popular':\n        sortUrl += `&byPopularity=true`;\n        break;\n    }\n  }\n\n  return sortUrl;\n};\n\nconst onAbcField = async evt => {\n\n  const currentCategory = evt.target.value;\n  save(common.LOCAL_SORT, currentCategory);\n  const query = load(common.LOCAL_SORT);\n  const URL = load(common.LOCAL_QUERY_KEY);\n\n  let sortUrl = buildSortUrl(common.BASE_URL, URL);\n  sortUrl = buildSortByQuery(sortUrl, query);\n\n  const result = await get(sortUrl);\n\n  renderProductsSort(result);\n\n};\n\n//wfw\nasync function get(sortUrl) {\n  try {\n    const response = await axios({\n      url: `${sortUrl}`,\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n\n    return response.data;\n  } catch (error) {\n    console.error('Error:', error);\n    return error;\n  }\n}\n\nconst renderProductsSort = async result => {\n  if (!result.results.length) {\n    notFoundMarkup(refs.productList);\n    return;\n  }\n  save(common.PAGES, {\n    page: result.page,\n    perPage: result.perPage,\n    totalPages: result.totalPages,\n  });\n  refs.productList.innerHTML = productMarkup(result.results);\n  loadPaginationData();\n};\n\nconst onSearchField = evt => {\n  if (evt.target.value === '') {\n    const currentQuery = load(common.LOCAL_QUERY_KEY);\n    currentQuery.page = '1';\n    currentQuery.keyword = null;\n    save(common.LOCAL_QUERY_KEY, currentQuery);\n    const query = load(common.LOCAL_QUERY_KEY);\n    renderProducts(query);\n  }\n};\n\nrefs.form.addEventListener('submit', onForm);\nrefs.categoryField.addEventListener('change', onCategoryField);\nrefs.abcField.addEventListener('change', onAbcField);\nrefs.searchField.addEventListener('input', onSearchField);\n\nexport { renderSelects };\n","import { common } from './common';\nimport { refs } from './refs';\nimport { getPopular } from './api_service';\nimport { save, load } from './storage';\nimport { createMarkupPopular } from './markupFunctions';\nimport { addToCartFromPopular } from './helpers/addToCart';\nimport { validChecked } from './helpers/validChecked';\nimport { openModal } from './helpers/openModal';\n\nconst renderPopular = async () => {\n  const response = await getPopular();\n  if (!response.length) {\n    notFoundMarkup(refs.popularProductList);\n    return;\n  }\n\n  const results = validChecked(response);\n\n  const markup = createMarkupPopular(results);\n  refs.popularProductList.insertAdjacentHTML('beforeend', markup);\n};\n\nconst onPopularList = evt => {\n  evt.preventDefault();\n\n  if (evt.target.closest('.js-cart')) {\n    addToCartFromPopular(evt);\n    return;\n  }\n\n  openModal(evt, refs.popularProductList);\n};\n\nrefs.popularProductList.addEventListener('click', onPopularList);\n\nexport { renderPopular };\n","import { common } from '../common';\n\nconst getRandomProduct = arrey => {\n  const listRandomCards = [];\n  const additionalList = [];\n\n  while (listRandomCards.length < common.NUMBER_OF_DISCOUNT) {\n    const randomNumber = Math.floor(Math.random() * arrey.length);\n    if (additionalList.includes(randomNumber)) {\n      continue;\n    }\n    additionalList.push(randomNumber);\n    listRandomCards.push(arrey[randomNumber]);\n  }\n\n  return listRandomCards;\n};\n\nexport { getRandomProduct };\n","import { getDiscount } from './api_service';\nimport { refs } from './refs';\nimport { createDiscountMarkup } from './markupFunctions';\nimport { addToCart } from './helpers/addToCart';\nimport { getRandomProduct } from './helpers/getRandomProduct';\nimport { validChecked } from './helpers/validChecked';\nimport { openModal } from './helpers/openModal';\n\n// fetch data\nconst dataDiscountProd = async () => {\n  const data = await getDiscount();\n  const randomProducts = getRandomProduct(data);\n\n  const result = validChecked(randomProducts);\n\n  const markup = createDiscountMarkup(result);\n  refs.dicsProd.innerHTML = markup;\n};\n\n// add to ul\n\n// add listner to products\n\nconst clickOnDiscount = evt => {\n  evt.preventDefault();\n\n  if (evt.target.closest('.js-cart')) {\n    addToCart(evt);\n    return;\n  }\n\n  openModal(evt, refs.discProdList);\n};\n\nrefs.discProdList.addEventListener('click', clickOnDiscount);\n\nexport { dataDiscountProd };\n","import * as basicLightbox from 'basiclightbox';\nimport '../../node_modules/basiclightbox/dist/basicLightbox.min.css';\n\nconst openModalFooter = (element, markup) => {\n  const handleFooterElement = event => {\n    if (event.code === 'Escape') {\n      instance.close();\n    }\n  };\n\n  const instance = basicLightbox.create(markup, {\n    onShow: instance => {\n      element.addEventListener('keydown', handleFooterElement);\n\n      instance.element().querySelector('.js-modal-close').onclick = () =>\n        instance.close();\n    },\n\n    onClose: instance => {\n      element.removeEventListener('keydown', handleFooterElement);\n    },\n  });\n\n  instance.show();\n};\n\nexport { openModalFooter };\n","import { createSubscription } from './api_service';\nimport { openModalFooter } from './modal';\nimport { refs } from './refs';\nimport { success, error } from './helpers/modalMarkups';\n\nconst renderFooter = () => {\n  refs.emailForm.addEventListener('submit', onEmailEnter);\n};\n\nconst onEmailEnter = event => {\n  event.preventDefault();\n\n  const email = refs.emailInput.value.trim();\n  if (!email) {\n    return;\n  }\n  onSendBtn(email);\n  refs.emailForm.reset();\n};\n\nasync function onSendBtn(email) {\n  const result = await createSubscription(email);\n  switch (result) {\n    case 201:\n      openModalFooter(refs.emailForm, success);\n      break;\n    case 409:\n      openModalFooter(refs.emailForm, error);\n      break;\n\n    default:\n      break;\n  }\n  return result;\n}\n\nexport { renderFooter };\n","import { renderProducts } from './js/products';\nimport { save, load } from './js/storage';\nimport { common } from './js/common';\nimport { renderSelects } from './js/filters';\nimport { renderPopular } from './js/popular';\nimport { dataDiscountProd } from './js/dicsount_products';\nimport { renderFooter } from './js/footer';\nimport { handleMediaChange } from './js/pagination';\nimport { headerCount } from './js/header';\n\nconst mediaQuery_min768 = window.matchMedia('(min-width: 768px)');\n\nconst mediaQuery_min1440 = window.matchMedia('(min-width: 1440px)');\nconst mediaQuery_max768 = window.matchMedia('(max-width: 767.9px)');\nconst mediaQuery_max1440 = window.matchMedia('(max-width: 1439.9px)');\nconst mediaQuery_min768_max1440 = window.matchMedia(\n  '(min-width: 768px) and (max-width: 1439.9px)'\n);\n\nsave(common.LOCAL_QUERY_KEY, common.INIT_QUERY);\n\nconst storage_query = load(common.LOCAL_QUERY_KEY) ?? [];\n\nheaderCount();\n\nrenderSelects();\n\nif (mediaQuery_min1440.matches) {\n  if (Object.keys(storage_query).length) {\n    const storage_query = load(common.LOCAL_QUERY_KEY) ?? [];\n\n    storage_query.limit = 9;\n    save(common.LOCAL_QUERY_KEY, storage_query);\n    renderProducts(storage_query);\n  }\n}\n\nif (mediaQuery_min768_max1440.matches) {\n  if (Object.keys(storage_query).length) {\n    const storage_query = load(common.LOCAL_QUERY_KEY) ?? [];\n\n    storage_query.limit = 8;\n    save(common.LOCAL_QUERY_KEY, storage_query);\n    renderProducts(storage_query);\n  }\n}\n\nif (mediaQuery_max768.matches) {\n  if (Object.keys(storage_query).length) {\n    const storage_query = load(common.LOCAL_QUERY_KEY) ?? [];\n\n    storage_query.limit = 6;\n    save(common.LOCAL_QUERY_KEY, storage_query);\n    renderProducts(storage_query);\n  }\n}\n\nhandleMediaChange(mediaQuery_min768);\n\nrenderPopular();\ndataDiscountProd();\nrenderFooter();\n\nmediaQuery_min768.addListener(mediaQueryList => {\n  if (mediaQueryList.matches) {\n    if (Object.keys(storage_query).length) {\n      const storage_query = load(common.LOCAL_QUERY_KEY) ?? [];\n\n      storage_query.limit = 8;\n      save(common.LOCAL_QUERY_KEY, storage_query);\n      renderProducts(storage_query);\n    }\n  }\n});\n\nmediaQuery_min1440.addListener(mediaQueryList => {\n  if (mediaQueryList.matches) {\n    if (Object.keys(storage_query).length) {\n      const storage_query = load(common.LOCAL_QUERY_KEY) ?? [];\n\n      storage_query.limit = 9;\n      save(common.LOCAL_QUERY_KEY, storage_query);\n      renderProducts(storage_query);\n    }\n  }\n});\n\nmediaQuery_max1440.addListener(mediaQueryList => {\n  if (mediaQueryList.matches) {\n    if (Object.keys(storage_query).length) {\n      const storage_query = load(common.LOCAL_QUERY_KEY) ?? [];\n      storage_query.limit = 8;\n      save(common.LOCAL_QUERY_KEY, storage_query);\n      renderProducts(storage_query);\n    }\n  }\n});\n\nmediaQuery_max768.addListener(mediaQueryList => {\n  if (mediaQueryList.matches) {\n    if (Object.keys(storage_query).length) {\n      const storage_query = load(common.LOCAL_QUERY_KEY) ?? [];\n\n      storage_query.limit = 6;\n      save(common.LOCAL_QUERY_KEY, storage_query);\n      renderProducts(storage_query);\n    }\n  }\n});\n"],"names":["getData","query","axios","common","error","getDataId","id","getPopular","limit","getDiscount","getCategories","createSubscription","email","headerCount","cartCounter","currValue","load","cart","addToCart","evt","product","_id","save","svg_sprite","iziToast","addToCartFromPopular","visPagesPag","mediaQuery","handleMediaChange","event","loadPaginationDataOnChangeViewport","currPage","currPerPage","currTotalPage","Pagination","refs","eventData","pagesData","storage_query","currentQuery","renderProductsOnPagination","loadPaginationData","data","productMarkup","validChecked","products","currentCartProducts","sub1x","sub2x","success","modalProductMarkup","name","desc","img","category","price","size","is10PercentOff","popularity","openModal","element","markup","instance","basicLightbox.create","onProduct","renderProducts","toCart","fromCart","currentCart","index","remove","notFoundMarkup","result","onProductList","SlimSelect","categories","sortArrey","renderSelects","createCategoryMarkup","createSortMarkup","onCategoryField","currentCategory","currQuery","URL","sortUrl","buildSortUrl","buildSortByQuery","get","renderProductsSort","onForm","currentValue","baseURL","formatCategory","onAbcField","onSearchField","renderPopular","response","results","createMarkupPopular","onPopularList","getRandomProduct","arrey","listRandomCards","additionalList","randomNumber","dataDiscountProd","randomProducts","createDiscountMarkup","clickOnDiscount","openModalFooter","handleFooterElement","renderFooter","onEmailEnter","onSendBtn","mediaQuery_min768","mediaQuery_min1440","mediaQuery_max768","mediaQuery_max1440","mediaQuery_min768_max1440","mediaQueryList"],"mappings":"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"}