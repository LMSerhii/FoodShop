{"version":3,"file":"commonHelpers2.js","sources":["../src/js/common.js","../src/js/refs.js","../src/js/api_service.js","../src/js/storage.js","../src/img/sprite.svg","../src/js/helpers/addToCart.js","../src/js/markupFunctions.js","../src/js/products.js","../src/js/filters.js","../src/js/popular.js","../src/js/dicsount_products.js","../src/main.js"],"sourcesContent":["const common = {\n  BASE_URL: 'https://food-boutique.b.goit.study/api',\n  LOCAL_CART_KEY: 'cart',\n  LOCAL_QUERY_KEY: 'query',\n\n  INIT_QUERY: { keyword: null, category: null, page: 1, limit: 6, sort: null },\n  PAGES: 'pages',\n};\n\nexport { common };\n","const refs = {\n  productList: document.querySelector('.product-list'),\n  searchField: document.querySelector('.js-input'),\n  categoryField: document.querySelector('#categoryField'),\n  abcField: document.querySelector('#abcField'),\n  form: document.querySelector('.form'),\n  productList: document.querySelector('.product-list'),\n  emailForm: document.querySelector('.subscribe-form'),\n  emailInput: document.querySelector('.subscribe-input'),\n  sendBtn: document.querySelector('.send-btn'),\n  popularProductList: document.querySelector('.popular-products'),\n};\n\nexport { refs };\n","import axios from 'axios';\nimport { common } from './common';\n\n// get a list of all products\nasync function getData(query) {\n  // return object {page, perPage, results[], totalPages}\n  try {\n    const response = await axios({\n      url: `${common.BASE_URL}/products`,\n      method: 'GET',\n      header: {\n        'Content-Type': 'aplication/json',\n      },\n\n      params: query,\n    });\n    return response.data;\n  } catch (error) {\n    return error;\n  }\n}\n\n\n// get an object by ID\nasync function getDataId(id) {\n  // returns the card object\n  try {\n    const response = await axios({\n      url: `${common.BASE_URL}/products/${id}`,\n      method: 'GET',\n      header: {\n        'Content-Type': 'aplication/json',\n      },\n    });\n    return response.data;\n  } catch (error) {\n\n    return error;\n  }\n}\n\n// get a list of popular products\nasync function getPopular(limit) {\n  // returns an array of data\n  try {\n    let query = null;\n\n    if (limit) {\n      query = { limit: limit };\n    }\n    const response = await axios({\n      url: `${common.BASE_URL}/products/popular`,\n      method: 'GET',\n      header: {\n        'Content-Type': 'aplication/json',\n      },\n\n      params: query,\n    });\n    return response.data;\n  } catch (error) {\n    return error;\n  }\n}\n\n// get a list of products with a discount\nasync function getDiscount() {\n  // returns an array of data\n  try {\n    const response = await axios({\n      url: `${common.BASE_URL}/products/discount`,\n      method: 'GET',\n      header: {\n        'Content-Type': 'aplication/json',\n      },\n    });\n    return response.data;\n  } catch (error) {\n\n    return error;\n\n  }\n}\n\n// get categories\nasync function getCategories() {\n  // returns an array of data\n  try {\n    const response = await axios({\n      url: `${common.BASE_URL}/products/categories`,\n      method: 'GET',\n      header: {\n        'Content-Type': 'aplication/json',\n      },\n    });\n    return response.data;\n  } catch (error) {\n\n    return error;\n  }\n}\n\n// request to create a new order\nasync function createOrder(email, productList) {\n  // returns an object\n  try {\n    const response = await axios({\n      url: 'https://food-boutique.b.goit.study/api/orders1',\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      data: {\n        email: email,\n        products: productList,\n      },\n    });\n    return response;\n  } catch (error) {\n    return error;\n  }\n}\n\n// request a subscription\nasync function createSubscription(email) {\n  // returns an object\n  try {\n    const response = await axios({\n      url: `${common.BASE_URL}/subscription`,\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      data: {\n        email: email,\n      },\n    });\n\n    return response.status;\n  } catch (error) {\n    return error.response.status;\n  }\n}\n\nexport {\n  getData,\n  getDataId,\n  getPopular,\n  getDiscount,\n  getCategories,\n  createOrder,\n  createSubscription,\n};\n\n\n","const save = (key, value) => {\n    try {\n      const serializedState = JSON.stringify(value);\n      localStorage.setItem(key, serializedState);\n    } catch (error) {\n      console.error('Set state error: ', error.message);\n    }\n  };\n  \n  const load = key => {\n    try {\n      const serializedState = localStorage.getItem(key);\n      return serializedState === null ? undefined : JSON.parse(serializedState);\n    } catch (error) {\n      console.error('Get state error: ', error.message);\n    }\n  };\n  \n  export { save, load };\n  \n\n","export default \"__VITE_ASSET__040b86a4__\"","import iziToast from 'izitoast';\nimport '../../../node_modules/izitoast/dist/css/iziToast.min.css';\nimport svg_sprite from '../../img/sprite.svg';\nimport { getDataId } from '../api_service';\nimport { save, load } from '../storage';\nimport { common } from '../common';\n\nconst cart = load(common.LOCAL_CART_KEY) ?? [];\n\nconst addToCart = async evt => {\n  const { id } = evt.target.closest('.js-card').dataset;\n  const product = await getDataId(id);\n\n  const inStorage = cart.some(({ _id }) => _id === product._id);\n\n  if (inStorage) {\n    return;\n  }\n\n  cart.push(product);\n  save(common.LOCAL_CART_KEY, cart);\n\n  evt.target.closest(\n    '.js-cart'\n  ).innerHTML = `<button class=\"btn-check js-cart\" type=\"button\">\n   <svg class=\"icon-check\" width=\"18\" height=\"18\">\n                               <use href=\"${svg_sprite}#check\"></use>\n                           </svg>\n                         </button>`;\n\n};\n\nexport { addToCart };\n","import svg_sprite from '../img/sprite.svg';\n\n// products\n\nconst productMarkup = arrey => {\n  if (!arrey.length) {\n    return;\n  }\n  return arrey\n    .map(\n      ({\n        _id,\n        name,\n        img,\n        category,\n        price,\n        size,\n        is10PercentOff,\n        popularity,\n      }) => {\n        if (!is10PercentOff) {\n          return `<li class=\"card js-card\" data-id=${_id}>\n            <div class=\"card-top\">\n  \n              <div class=\"card-img-wrapper\">\n                  <img src=\"${img}\" alt=\"${name}\" width=\"140\" height=\"140\" loading=\"lazy\"/>\n              </div>\n  \n              <h3 class=\"card-product-name\">${name}</h3>\n  \n              <ul class=\"card-prodcuts-list\">\n                  <li class=\"card-prodcuts-item\">Category:\n                    <span>${category.replace('_', ' ')}</span>\n                  </li>\n                  <li class=\"card-prodcuts-item\">Size:\n                    <span>${size}</span>\n                  </li>\n                  <li class=\"card-prodcuts-item\">Popularity:\n                    <span>${popularity}</span>\n                  </li>\n              </ul>\n              \n            </div>\n  \n            <div class=\"card-bottom\">\n              <p class=\"card-producs-price\">$${price}</p>\n  \n              <button class=\"card-btn js-cart\" type=\"button\">\n  \n                  <svg class=\"card-btn-icon\" width=\"18\" height=\"18\">\n                      <use href=\"${svg_sprite}#cart\"></use>\n                  </svg>\n  \n              </button>\n  \n            </div>\n        </li>`;\n        } else {\n          return `<li class=\"card js-card\" data-id=${_id}>\n            <div class=\"card-top\">\n  \n              <div class=\"card-img-wrapper\">\n                  <img src=\"${img}\" alt=\"${name}\" width=\"140\" height=\"140\" loading=\"lazy\"/>\n              </div>\n  \n              <h3 class=\"card-product-name\">${name}</h3>\n  \n              <ul class=\"card-prodcuts-list\">\n                  <li class=\"card-prodcuts-item\">Category: <span>${category.replace(\n                    '_',\n                    ' '\n                  )}</span></li>\n                  <li class=\"card-prodcuts-item\">Size: <span>${size}</span></li>\n                  <li class=\"card-prodcuts-item\">Popularity: <span>${popularity}</span></li>\n              </ul>\n            </div>\n  \n            <div class=\"card-bottom\">\n              <p class=\"card-producs-price\">$${price}</p>\n  \n              <button class=\"card-btn js-cart\" type=\"button\">\n                  <svg class=\"card-btn-icon\" width=\"18\" height=\"18\">\n                      <use href=\"${svg_sprite}#cart\"></use>\n                  </svg>\n              </button>\n              <svg class=\"discount-icon\" width=\"60\" height=\"60\">\n                <use href=\"${svg_sprite}#discount\"></use>\n              </svg>\n              \n            </div>\n        </li>`;\n        }\n      }\n    )\n    .join('');\n};\n\nconst errorMarkup = (element, status) => {\n  element.innerHTML = ` <div class=\"error_box\">\n                                <p class=\"error_title\">\n                                    Error<span>${status}</span>\n                                </p>\n                                <p class=\"error_text\">\n                                    Ой, щось пішло не так ....\n                                </p>\n                              </div>\n  `;\n};\n\nconst notFoundMarkup = element => {\n  element.innerHTML = `<div class=\"notFound_box\">\n                              <p class=\"notFound_title\">\n                                  Nothing was found for the selected <span>filters...</span>\n                              </p>\n                              <p class=\"notFound_text\">\n                                Try adjusting your search parameters or browse our range by other criteria to\n                                find the perfect product for you.\n                              </p>\n                              </div>\n                            `;\n};\n\n// filters\n\nconst createCategoryMarkup = arrey => {\n  if (!arrey.length) {\n    return `<option value=\"not_found_categories\">Not found categories</option>`;\n  }\n  return arrey\n    .map(\n      category =>\n        `<option value=\"${category}\">${category\n          .replace('_', ' ')\n          .replace('_', ' ')}</option>`\n    )\n    .join('');\n};\n\nconst createSortMarkup = array => {\n  return array\n    .map(category => {\n      return `<option value=\"${category.value}\">${category.label}</option>`;\n    })\n    .join('');\n};\n\n//  Popular\n\nfunction createMarkupPopular(arrey) {\n  if (!arrey.length) {\n    console.log('Sorry not data');\n    return;\n  }\n  return arrey\n    .map(({ _id, name, img, category, size, popularity }) => {\n      return `<li class=\"popular-card js-card\" data-id=${_id}>\n                    <div class=\"popular-box\">\n                      <div class=\"popular-card-img-wrap\">\n                          <img src=\"${img}\" alt=\"${name}\" width=\"56\" height=\"56\" loading=\"lazy\"/>\n                      </div>\n                      <div class=\"card-info-box\">\n                      \n                        <h3 class=\"popular-name\">${name}</h3>\n                      \n                      <ul class=\"popular-info-list\">\n                          <li class=\"info-style\">Category:\n                          <span>${category.replace('_', ' ')}</span></li>\n                          <div class=\"popular-info-wraper\">\n                          <li class=\"info-style\">Size: <span>${size}</span></li>\n                          <li class=\"info-style\">Popularity: <span>${popularity}</span></li>\n                      </ul>\n                      </div>\n                    </div>\n\n                    <div class=\"card-bottom\">\n                      \n                      <button class=\"card-btn js-cart\" type=\"button\">\n                          <svg class=\"icon\" width=\"18\" height=\"18\">\n                              <use href=\"${svg_sprite}#cart\"></use>\n                          </svg>\n                      </button>\n                    </div>\n                </li>`;\n    })\n    .join('');\n}\n\nexport {\n  productMarkup,\n  errorMarkup,\n  notFoundMarkup,\n  createCategoryMarkup,\n  createSortMarkup,\n  createMarkupPopular,\n};\n","import { common } from './common';\nimport { refs } from './refs';\nimport { getData } from './api_service';\nimport { save, load } from './storage';\nimport { addToCart } from './helpers/addToCart';\nimport { productMarkup, notFoundMarkup } from './markupFunctions';\n\nconst renderProducts = async query => {\n  const data = await getData(query);\n\n  if (!data.results.length) {\n    notFoundMarkup(refs.productList);\n    return;\n  }\n\n  save(common.PAGES, {\n    page: data.page,\n    perPage: data.perPage,\n    totalPages: data.totalPages,\n  });\n\n  refs.productList.innerHTML = productMarkup(data.results);\n};\n\nconst onProductList = evt => {\n  evt.preventDefault();\n\n  if (evt.target.closest('.js-cart')) {\n    addToCart(evt);\n  }\n\n  if (evt.target.classList.contains('js-info')) {\n    openModal(evt);\n  }\n};\n\nrefs.productList.addEventListener('click', onProductList);\n\nexport { renderProducts };\n\n\n","import axios from 'axios';\nimport { common } from './common';\nimport { refs } from './refs';\nimport { productMarkup, notFoundMarkup } from './markupFunctions';\nimport { getCategories } from './api_service';\nimport { save, load } from './storage';\nimport { renderProducts } from './products';\nimport { createCategoryMarkup, createSortMarkup } from './markupFunctions';\n\nlet categories = [];\n\nconst sortArrey = [\n  { value: 'alphabetical', label: 'A to Z' },\n  { value: 'reverse-alphabetical', label: 'Z to A' },\n  { value: 'cheap', label: 'Cheap' },\n  { value: 'expensive', label: 'Expensive' },\n  { value: 'popular', label: 'Popular' },\n  { value: 'not-popular', label: 'Not popular' },\n  { value: '', label: 'Show all' },\n];\n\nconst renderSelects = async () => {\n  const data = await getCategories();\n\n  categories = [...data, 'Show_all'];\n\n  const markup = createCategoryMarkup(categories);\n\n  refs.categoryField.insertAdjacentHTML('beforeend', markup);\n  refs.abcField.innerHTML = createSortMarkup(sortArrey);\n};\n\nconst onCategoryField = evt => {\n  const currentCategory = evt.target.value;\n  const currQuery = load(common.LOCAL_QUERY_KEY);\n\n  if (currentCategory === 'Show_all') {\n    currQuery.category = null;\n  } else {\n    currQuery.category = currentCategory;\n  }\n  save(common.LOCAL_QUERY_KEY, currQuery);\n  const query = load(common.LOCAL_QUERY_KEY);\n  renderProducts(query);\n};\n\nconst onForm = evt => {\n  evt.preventDefault();\n  const currentValue = refs.searchField.value;\n  const currQuery = load(common.LOCAL_QUERY_KEY);\n\n  if (!currentValue) {\n    currQuery.keyword = null;\n  } else {\n    currQuery.keyword = currentValue;\n  }\n\n  save(common.LOCAL_QUERY_KEY, currQuery);\n\n  const query = load(common.LOCAL_QUERY_KEY);\n  renderProducts(query);\n};\n\nconst onAbcField = async evt => {\n  const currentCategory = evt.target.value;\n  const currQuery = load(common.LOCAL_QUERY_KEY);\n\n  currQuery.sort = currentCategory;\n  save(common.LOCAL_QUERY_KEY, currQuery);\n\n  const query = load(common.LOCAL_QUERY_KEY);\n  const sortCategory = query.sort;\n\n  const getSort = SortValue(sortCategory);\n\n  const result = await get(query, getSort);\n  renderProductsSort(result);\n};\n\nconst SortValue = sortCategory => {\n  let getSort = {};\n\n  switch (sortCategory) {\n    case 'alphabetical':\n      getSort = '&byABC=true';\n      break;\n    case 'reverse-alphabetical':\n      getSort = '&byABC=false';\n      break;\n    case 'cheap':\n      getSort = '&byPrice=true';\n      break;\n    case 'expensive':\n      getSort = '&byPrice=false';\n      break;\n    case 'popular':\n      getSort = '&byPopularity=false';\n      break;\n    case 'not-popular':\n      getSort = '&byPopularity=true';\n      break;\n    default:\n      break;\n  }\n\n  return getSort;\n};\n\nasync function get(query, getSort) {\n  try {\n    const response = await axios({\n      url: `${common.BASE_URL}/products?${getSort}`,\n      method: 'GET',\n      header: {\n        'Content-Type': 'application/json',\n      },\n      params: query,\n    });\n    return response.data;\n  } catch (error) {\n    return error;\n  }\n}\n\nconst renderProductsSort = async result => {\n  if (!result.results.length) {\n    notFoundMarkup(refs.productList);\n    return;\n  }\n  save(common.PAGES, {\n    page: result.page,\n    perPage: result.perPage,\n    totalPages: result.totalPages,\n  });\n  refs.productList.innerHTML = productMarkup(result.results);\n};\n\nconst onSearchField = evt => {\n  if (evt.target.value === '') {\n    const currentQuery = load(common.LOCAL_QUERY_KEY);\n    currentQuery.keyword = null;\n    save(common.LOCAL_QUERY_KEY, currentQuery);\n    const query = load(common.LOCAL_QUERY_KEY);\n    renderProducts(query);\n  }\n};\n\nrefs.form.addEventListener('submit', onForm);\nrefs.categoryField.addEventListener('change', onCategoryField);\nrefs.abcField.addEventListener('change', onAbcField);\nrefs.searchField.addEventListener('input', onSearchField);\n\nexport { renderSelects };\n","import { common } from './common';\nimport { refs } from './refs';\nimport { getPopular } from './api_service';\nimport { addToCart } from './helpers/addToCart';\nimport { save, load } from './storage';\nimport { createMarkupPopular } from './markupFunctions';\n\nconst popularProductList = document.querySelector('.popular_products_list');\nconsole.dir(popularProductList);\n\npopularProductList.addEventListener('click', onPopularList);\n\nasync function renderPopular() {\n  const results = await getPopular();\n  if (!results.length) {\n    notFoundMarkup(refs.popularProductList);\n    return;\n  }\n  save(common.PAGES, {\n    page: results.page,\n    perPage: results.perPage,\n    totalPages: results.totalPages,\n  });\n\n  const markup = createMarkupPopular(results);\n  popularProductList.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction onPopularList(evt) {\n  evt.preventDefault();\n\n  if (evt.target.closest('.js-cart')) {\n    addToCart(evt);\n  }\n\n  if (evt.target.classList.contains('js-info')) {\n    openModal(evt);\n  }\n}\n\nexport { renderPopular };\n","import { getDiscount } from './api_service';\nconst dicsProd = document.querySelector('.discount-product-list');\n// fetch data\nasync function dataDiscountProd() {\n  const data = await getDiscount();\n  console.log(data);\n  const markup = createDiscountMarkup(data);\n  dicsProd.innerHTML = markup;\n}\n\n\n// add to ul\n\nfunction createDiscountMarkup(array) {\n  return array\n    .map(({ img, name, price, _id, is10PercentOff }) => {\n      if (is10PercentOff) {\n        return `\n        <li class=\"discount-product-element\">\n        <div class=\"discount-product-img-wrapper\">\n        <img class=\"discount-product-img\" src=\"${img}\" alt=\"${name}\">\n        </div>\n        \n        <div class=\"discount-product-descr\">\n         <div class=\"discount-product-name-wrapper\">\n           <h3 class=\"discount-product-name\">${name}</h3>\n          </div>\n         <div class=\"discount-product-price-wrapper\">\n          <p class=\"discount-product-price\">$${price}</p>\n          <button class=\"discount-product-btn\" type=\"button\">add</button>\n          </div>\n        </div>\n        \n        </li>`;\n      }\n    })\n    .join('');\n}\n\n// add listner to products\n\nconst discProdList = document.querySelector('.discount-product-list');\nconsole.log(discProdList);\n\ndiscProdList.addEventListener('click', clickOnDiscount());\n\nfunction clickOnDiscount() {}\n\n\nexport {dataDiscountProd}","import { renderProducts } from './js/products';\nimport { save, load } from './js/storage';\nimport { common } from './js/common';\nimport { renderSelects } from './js/filters';\nimport { renderPopular } from './js/popular';\nimport { dataDiscountProd } from './js/dicsount_products';\nsave(common.LOCAL_QUERY_KEY, common.INIT_QUERY);\n\nconst storage_query = load(common.LOCAL_QUERY_KEY) ?? [];\n\nrenderSelects();\nrenderProducts(storage_query);\nrenderPopular();\ndataDiscountProd();\n"],"names":["common","refs","getData","query","axios","error","getDataId","id","getPopular","limit","getDiscount","getCategories","save","key","value","serializedState","load","svg_sprite","cart","addToCart","evt","product","_id","productMarkup","arrey","name","img","category","price","size","is10PercentOff","popularity","notFoundMarkup","element","createCategoryMarkup","createSortMarkup","array","createMarkupPopular","renderProducts","data","onProductList","categories","sortArrey","renderSelects","markup","onCategoryField","currentCategory","currQuery","onForm","currentValue","onAbcField","sortCategory","getSort","SortValue","result","get","renderProductsSort","onSearchField","currentQuery","popularProductList","onPopularList","renderPopular","results","dicsProd","dataDiscountProd","createDiscountMarkup","discProdList","storage_query"],"mappings":"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"}